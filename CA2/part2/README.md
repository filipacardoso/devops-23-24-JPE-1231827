# Class Assignment 2, Part 2 : 

### Assignment Overview
The aim of this assignment was to use a fundamental Gradle application to introduce new features.

## First Steps

1. Create a branch

The first step is to create a new branch called "tut-basic-gradle" in the repository. 
```bash
git branch tut-basic-gradle
```
2. Switch to the new branch tut-basic-gradle
```bash
git checkout tut-basic-gradle
```

3. Go to the following [website](https://start.spring.io) to generate a new gradle spring boot project. Fill in the necessary information and add the needed dependencies: Spring Web, Thymeleaf, Spring Data JPA, and H2 Database.

4. Open the project and delete de **src** folder.

5. Copy the **webpack.config.js** and the **package.json** files from Class Assignment 1 Part 1 to the project folder.

6. Delete the **src/main/resources/static/built/** folder.

### Adding the frontend plugin

For this section, the goal is to add a frontend plugin to our gradle project. 
The following steps were taken to achieve this:

1. Open the build.gradle file and add the plugin:
```gradle
 id "org.siouan.frontend-jdk17" version "8.0.0"
```

2. Configure the plugin in the same build.gradle file:
```gradle
 frontend {
nodeVersion = "16.20.2"
assembleScript = "run build"
cleanScript = "run clean"
checkScript = "run check"
}
```

3. Add the dependencies in the package.json file:
```gradle
"scripts": {
"webpack": "webpack",
"build": "npm run webpack",
"check": "echo Checking frontend",
"clean": "echo Cleaning frontend",
"lint": "echo Linting frontend",
"test": "echo Testing frontend"
},
```

4. Add the package manager to the build.gradle file, before the scripts section:
```gradle
"packageManager": "npm@9.6.7",
```

5. Compile the project in the terminal(first navigate to the project folder):
```bash
./gradlew build
```

### Adding the copyJar task

For this section, a new task will be added to copy the generated Jar file.
The following steps were taken to achieve this:

1. Open the build.gradle file and add the task:
```gradle
task copyJarToDist(type: Copy, dependsOn: build) {
	from('build/libs')
	into('dist')
	include('*.jar')
	doFirst {
		// This will ensure the dist directory is created if it doesn't exist
		file('dist').mkdirs()
	}
}
```

2. Compile the project in the terminal(first navigate to the project folder):
```bash
./gradlew build
```
3. Add all the files to the staging area:
```bash
git add .
```
4. Commit the changes:
```bash
git commit -m "close #16 added task to copy jar files to dist folder"
```
5. Push the changes to the repository:
```bash
git push
```
### Adding the deleteWebpackFiles task

For this section, a new task will be added to delete the files generated by the webpack.
The following steps were taken to achieve this:

1. Open the build.gradle file and add the task:
```gradle
task deleteWebpackFiles(type: Delete) {
	delete 'src/main/resources/static/built'
}
```

2. Add the following command to make sure this task is executed automatically by the task *clean*:
```gradle
clean.dependsOn(deleteWebpackFiles)
```

3. Compile the project in the terminal(first navigate to the project folder):
```bash
./gradlew build
```

4. Add all te files to the staging area:
```bash
git add .
```

5. Commit the changes:
```bash
git commit -m "close #17 added task delete all files in webpack"
```

6. Push the changes to the repository:
```bash
git push
```

### Merging the branches

For this section, the goal is to merge the branch "tut-basic-gradle" to the main branch.
The following steps were taken to achieve this:

1. Switch to the main branch:
```bash
git checkout main
```

2. Merge the tut-basic-gradle branch:
```bash
git merge --no-ff tut-basic-gradle
```

3. Push the changes to the repository:
```bash
git push
```
## Alternative implementation - Maven

For this section, the goal is to add an alternative implementation solution based on maven to the project.

1. Go to the following [website](https://start.spring.io)  to generate a new maven spring boot project. Fill in the necessary information and add the needed dependencies.
   The project was initialized with the same dependencies: Spring Web, Thymeleaf, Spring Data JPA, and H2 Database.

2. Open the project and delete de src folder.

3. Copy the webpack.config.js and the package.json files from Class Assignment 1 Part 1 to the project folder.

4. Delete the src/main/resources/static/built/ folder.

5. Add the frontend plugin to the pom file:
    ```xml
    <plugin>
        <groupId>com.github.eirslett</groupId>
        <artifactId>frontend-maven-plugin</artifactId>
        <version>1.9.1</version>
        <configuration>
            <nodeVersion>v16.13.0</nodeVersion>
            <npmVersion>6.14.8</npmVersion>
        </configuration>
        <executions>
            <execution>
                <goals>
                    <goal>install-node-and-npm</goal>
                    <goal>npm</goal>
                </goals>
            </execution>
        </executions>
    </plugin>
    ```

6. Add task to copy the generated Jar file to the dist folder:
    ```xml
    <plugin>
        <groupId>org.apache.maven.plugins</groupId>
        <artifactId>maven-resources-plugin</artifactId>
        <version>3.2.0</version>
        <executions>
            <execution>
                <id>copy-jar</id>
                <phase>package</phase>
                <goals>
                    <goal>copy-resources</goal>
                </goals>
                <configuration>
                    <outputDirectory>${project.basedir}/dist</outputDirectory>
                    <resources>
                        <resource>
                            <directory>${project.build.directory}</directory>
                            <includes>
                                <include>*.jar</include>
                            </includes>
                        </resource>
                    </resources>
                </configuration>
            </execution>
        </executions>
    </plugin>
    ```

7. Add task to delete the files generated by the webpack:
    ```xml
			<plugin>
				<artifactId>maven-clean-plugin</artifactId>
				<version>3.1.0</version>
				<configuration>
					<filesets>
						<fileset>
							<directory>${project.basedir}/src/main/resources/static/built</directory>
							<includes>
								<include>**/*</include>
							</includes>
						</fileset>
					</filesets>
				</configuration>
			</plugin>
    ```

### Maven vs. Gradle: A Comparative Analysis

The comparison between Maven and Gradle solutions for the Spring Boot application build automation reveals the following:

Maven
- XML Configuration: Maven relies on XML-based configuration (pom.xml), which has a systematic approach to outlining dependencies and plugins.
- Lifecycle Phases: Maven adheres to a fixed build lifecycle, simplifying comprehension but lacking the flexibility found in Gradle.

Gradle
- Groovy/Kotlin DSL: Utilizing a Groovy/Kotlin Domain-Specific Language (DSL) for configuration, Gradle enables concise and expressive build scripts.
- Customization: Gradle surpasses Maven in flexibility, allowing for extensive customization of tasks and script extension to accommodate complex build requirements.












